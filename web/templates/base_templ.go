// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.924
package views

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"context"
	"fmt"
	"github.com/AlphaByte02/FairSplit/internal/db"
	"time"
)

func GetUser(ctx context.Context) db.User {
	if user, ok := ctx.Value("user").(db.User); ok {
		return user
	}
	return db.User{}
}

func Layout(title string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<!doctype html><html class=\"dark\"><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><title>SplitFlow - ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(title)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/base.templ`, Line: 23, Col: 29}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "</title><link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/@unocss/reset/tailwind-compat.min.css\"><script>\n\t\t\t\twindow.__unocss = {\n\t\t\t\t\tpreflight: true\n\t\t\t\t}\n\t\t\t</script><script src=\"https://cdn.jsdelivr.net/npm/@unocss/runtime\"></script><style>\n\t\t\t\t[un-cloak] {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t</style><script src=\"https://cdn.jsdelivr.net/npm/htmx.org@2.0.6/dist/htmx.min.js\"></script><script defer src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\"></script><style>\n\t\t\t\t.fade-in {\n\t\t\t\t\tanimation: fadeIn .24s ease;\n\t\t\t\t}\n\n\t\t\t\t@keyframes fadeIn {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\ttransform: translateY(6px);\n\t\t\t\t\t}\n\n\t\t\t\t\tto {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</style></head><body class=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-950 text-slate-100 antialiased\" un-cloak><div class=\"min-h-screen flex flex-col\" x-data><header class=\"bg-transparent backdrop-blur-sm border-b border-white/6\"><div class=\"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between\"><a href=\"/\" class=\"flex items-center gap-3\"><div class=\"w-9 h-9 rounded-xl bg-gradient-to-br from-indigo-500 to-violet-500 grid place-items-center shadow-lg\"><span class=\"font-bold\">FS</span></div><div><div class=\"text-lg font-semibold leading-none\">FairSplit</div><div class=\"text-xs text-slate-400 -mt-0.5\">split the bill, simply</div></div></a><nav class=\"flex items-center gap-3\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if GetUser(ctx).Username == "" {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<a href=\"/login\" class=\"px-3 py-1 rounded-md hover:bg-white/6 transition\">Accedi</a>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		} else {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "<a href=\"/logout\" class=\"px-3 py-1 rounded-md hover:bg-white/6 transition\">Esci</a>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</nav></div></header><main class=\"flex-1 flex items-center justify-center px-4 py-8\"><div class=\"w-full max-w-4xl\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templ_7745c5c3_Var1.Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "</div></main><template x-teleport=\"body\"><ul x-data=\"{\n\t\t\t\t\t\t\ttoasts: [],\n\t\t\t\t\t\t\ttoastsHovered: false,\n\t\t\t\t\t\t\texpanded: false,\n\t\t\t\t\t\t\tlayout: 'default',\n\t\t\t\t\t\t\tposition: 'top-center',\n\t\t\t\t\t\t\tpaddingBetweenToasts: 15,\n\t\t\t\t\t\t\tdeleteToastWithId (id){\n\t\t\t\t\t\t\t\tfor(let i = 0; i < this.toasts.length; i++){\n\t\t\t\t\t\t\t\t\tif(this.toasts[i].id === id){\n\t\t\t\t\t\t\t\t\t\tthis.toasts.splice(i, 1);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tburnToast(id){\n\t\t\t\t\t\t\t\tburnToast = this.getToastWithId(id);\n\t\t\t\t\t\t\t\tburnToastElement = document.getElementById(burnToast.id);\n\t\t\t\t\t\t\t\tif(burnToastElement){\n\t\t\t\t\t\t\t\t\tif(this.toasts.length == 1){\n\t\t\t\t\t\t\t\t\t\tif(this.layout=='default'){\n\t\t\t\t\t\t\t\t\t\t\tthis.expanded = false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tburnToastElement.classList.remove('translate-y-0');\n\t\t\t\t\t\t\t\t\t\tif(this.position.includes('bottom')){\n\t\t\t\t\t\t\t\t\t\t\tburnToastElement.classList.add('translate-y-full');\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tburnToastElement.classList.add('-translate-y-full');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tburnToastElement.classList.add('-translate-y-full');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tburnToastElement.classList.add('opacity-0');\n\t\t\t\t\t\t\t\t\tlet that = this;\n\t\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\t\tthat.deleteToastWithId(id);\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\t\t\tthat.stackToasts();\n\t\t\t\t\t\t\t\t\t\t}, 1)\n\t\t\t\t\t\t\t\t\t}, 300);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetToastWithId(id){\n\t\t\t\t\t\t\t\tfor(let i = 0; i < this.toasts.length; i++){\n\t\t\t\t\t\t\t\t\tif(this.toasts[i].id === id){\n\t\t\t\t\t\t\t\t\t\treturn this.toasts[i];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstackToasts(){\n\t\t\t\t\t\t\t\tthis.positionToasts();\n\t\t\t\t\t\t\t\tthis.calculateHeightOfToastsContainer();\n\t\t\t\t\t\t\t\tlet that = this;\n\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\tthat.calculateHeightOfToastsContainer();\n\t\t\t\t\t\t\t\t}, 300);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpositionToasts(){\n\t\t\t\t\t\t\t\tif(this.toasts.length == 0) return;\n\t\t\t\t\t\t\t\tlet topToast = document.getElementById( this.toasts[0].id );\n\t\t\t\t\t\t\t\ttopToast.style.zIndex = 100;\n\t\t\t\t\t\t\t\tif(this.expanded){\n\t\t\t\t\t\t\t\t\tif(this.position.includes('bottom')){\n\t\t\t\t\t\t\t\t\t\ttopToast.style.top = 'auto';\n\t\t\t\t\t\t\t\t\t\ttopToast.style.bottom = '0px';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttopToast.style.top = '0px';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tlet bottomPositionOfFirstToast = this.getBottomPositionOfElement(topToast);\n\n\t\t\t\t\t\t\t\tif(this.toasts.length == 1) return;\n\t\t\t\t\t\t\t\tlet middleToast = document.getElementById( this.toasts[1].id );\n\t\t\t\t\t\t\t\tmiddleToast.style.zIndex = 90;\n\n\t\t\t\t\t\t\t\tif(this.expanded){\n\t\t\t\t\t\t\t\t\tmiddleToastPosition = topToast.getBoundingClientRect().height +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.paddingBetweenToasts + 'px';\n\n\t\t\t\t\t\t\t\t\tif(this.position.includes('bottom')){\n\t\t\t\t\t\t\t\t\t\tmiddleToast.style.top = 'auto';\n\t\t\t\t\t\t\t\t\t\tmiddleToast.style.bottom = middleToastPosition;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tmiddleToast.style.top = middleToastPosition;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tmiddleToast.style.scale = '100%';\n\t\t\t\t\t\t\t\t\tmiddleToast.style.transform = 'translateY(0px)';\n\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmiddleToast.style.scale = '94%';\n\t\t\t\t\t\t\t\t\tif(this.position.includes('bottom')){\n\t\t\t\t\t\t\t\t\t\tmiddleToast.style.transform = 'translateY(-16px)';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.alignBottom(topToast, middleToast);\n\t\t\t\t\t\t\t\t\t\tmiddleToast.style.transform = 'translateY(16px)';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\tif(this.toasts.length == 2) return;\n\t\t\t\t\t\t\t\tlet bottomToast = document.getElementById( this.toasts[2].id );\n\t\t\t\t\t\t\t\tbottomToast.style.zIndex = 80;\n\t\t\t\t\t\t\t\tif(this.expanded){\n\t\t\t\t\t\t\t\t\tbottomToastPosition = topToast.getBoundingClientRect().height +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.paddingBetweenToasts +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmiddleToast.getBoundingClientRect().height +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.paddingBetweenToasts + 'px';\n\n\t\t\t\t\t\t\t\t\tif(this.position.includes('bottom')){\n\t\t\t\t\t\t\t\t\t\tbottomToast.style.top = 'auto';\n\t\t\t\t\t\t\t\t\t\tbottomToast.style.bottom = bottomToastPosition;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tbottomToast.style.top = bottomToastPosition;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tbottomToast.style.scale = '100%';\n\t\t\t\t\t\t\t\t\tbottomToast.style.transform = 'translateY(0px)';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tbottomToast.style.scale = '88%';\n\t\t\t\t\t\t\t\t\tif(this.position.includes('bottom')){\n\t\t\t\t\t\t\t\t\t\tbottomToast.style.transform = 'translateY(-32px)';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.alignBottom(topToast, bottomToast);\n\t\t\t\t\t\t\t\t\t\tbottomToast.style.transform = 'translateY(32px)';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t\t\t\tif(this.toasts.length == 3) return;\n\t\t\t\t\t\t\t\tlet burnToast = document.getElementById( this.toasts[3].id );\n\t\t\t\t\t\t\t\tburnToast.style.zIndex = 70;\n\t\t\t\t\t\t\t\tif(this.expanded){\n\t\t\t\t\t\t\t\t\tburnToastPosition = topToast.getBoundingClientRect().height +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.paddingBetweenToasts +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmiddleToast.getBoundingClientRect().height +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.paddingBetweenToasts +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbottomToast.getBoundingClientRect().height +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.paddingBetweenToasts + 'px';\n\n\t\t\t\t\t\t\t\t\tif(this.position.includes('bottom')){\n\t\t\t\t\t\t\t\t\t\tburnToast.style.top = 'auto';\n\t\t\t\t\t\t\t\t\t\tburnToast.style.bottom = burnToastPosition;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tburnToast.style.top = burnToastPosition;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tburnToast.style.scale = '100%';\n\t\t\t\t\t\t\t\t\tburnToast.style.transform = 'translateY(0px)';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tburnToast.style.scale = '82%';\n\t\t\t\t\t\t\t\t\tthis.alignBottom(topToast, burnToast);\n\t\t\t\t\t\t\t\t\tburnToast.style.transform = 'translateY(48px)';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tburnToast.firstElementChild.classList.remove('opacity-100');\n\t\t\t\t\t\t\t\tburnToast.firstElementChild.classList.add('opacity-0');\n\n\t\t\t\t\t\t\t\tlet that = this;\n\t\t\t\t\t\t\t\t// Burn 🔥 (remove) last toast\n\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\t\tthat.toasts.pop();\n\t\t\t\t\t\t\t\t\t}, 300);\n\n\t\t\t\t\t\t\t\tif(this.position.includes('bottom')){\n\t\t\t\t\t\t\t\t\t\tmiddleToast.style.top = 'auto';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\talignBottom(element1, element2) {\n\t\t\t\t\t\t\t\t// Get the top position and height of the first element\n\t\t\t\t\t\t\t\tlet top1 = element1.offsetTop;\n\t\t\t\t\t\t\t\tlet height1 = element1.offsetHeight;\n\n\t\t\t\t\t\t\t\t// Get the height of the second element\n\t\t\t\t\t\t\t\tlet height2 = element2.offsetHeight;\n\n\t\t\t\t\t\t\t\t// Calculate the top position for the second element\n\t\t\t\t\t\t\t\tlet top2 = top1 + (height1 - height2);\n\n\t\t\t\t\t\t\t\t// Apply the calculated top position to the second element\n\t\t\t\t\t\t\t\telement2.style.top = top2 + 'px';\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\talignTop(element1, element2) {\n\t\t\t\t\t\t\t\t// Get the top position of the first element\n\t\t\t\t\t\t\t\tlet top1 = element1.offsetTop;\n\n\t\t\t\t\t\t\t\t// Apply the same top position to the second element\n\t\t\t\t\t\t\t\telement2.style.top = top1 + 'px';\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tresetBottom(){\n\t\t\t\t\t\t\t\tfor(let i = 0; i < this.toasts.length; i++){\n\t\t\t\t\t\t\t\t\tif(document.getElementById( this.toasts[i].id )){\n\t\t\t\t\t\t\t\t\t\tlet toastElement = document.getElementById( this.toasts[i].id );\n\t\t\t\t\t\t\t\t\t\ttoastElement.style.bottom = '0px';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tresetTop(){\n\t\t\t\t\t\t\t\tfor(let i = 0; i < this.toasts.length; i++){\n\t\t\t\t\t\t\t\t\tif(document.getElementById( this.toasts[i].id )){\n\t\t\t\t\t\t\t\t\t\tlet toastElement = document.getElementById( this.toasts[i].id );\n\t\t\t\t\t\t\t\t\t\ttoastElement.style.top = '0px';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgetBottomPositionOfElement(el){\n\t\t\t\t\t\t\t\treturn (el.getBoundingClientRect().height + el.getBoundingClientRect().top);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcalculateHeightOfToastsContainer(){\n\t\t\t\t\t\t\t\tif(this.toasts.length == 0){\n\t\t\t\t\t\t\t\t\t$el.style.height = '0px';\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tlastToast = this.toasts[this.toasts.length - 1];\n\t\t\t\t\t\t\t\tlastToastRectangle = document.getElementById(lastToast.id).getBoundingClientRect();\n\n\t\t\t\t\t\t\t\tfirstToast = this.toasts[0];\n\t\t\t\t\t\t\t\tfirstToastRectangle = document.getElementById(firstToast.id).getBoundingClientRect();\n\n\t\t\t\t\t\t\t\tif(this.toastsHovered){\n\t\t\t\t\t\t\t\t\tif(this.position.includes('bottom')){\n\t\t\t\t\t\t\t\t\t\t$el.style.height = ((firstToastRectangle.top + firstToastRectangle.height) - lastToastRectangle.top) + 'px';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t$el.style.height = ((lastToastRectangle.top + lastToastRectangle.height) - firstToastRectangle.top) + 'px';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$el.style.height = firstToastRectangle.height + 'px';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\" @set-toasts-layout.window=\"\n\t\t\t\t\t\t\tlayout=event.detail.layout;\n\t\t\t\t\t\t\tif(layout == 'expanded'){\n\t\t\t\t\t\t\t\texpanded=true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\texpanded=false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstackToasts();\n\t\t\t\t\t\t\" @toast-show.window=\"\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tif(event.detail.position){\n\t\t\t\t\t\t\t\tposition = event.detail.position;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttoasts.unshift({\n\t\t\t\t\t\t\t\tid: 'toast-' + Math.random().toString(16).slice(2),\n\t\t\t\t\t\t\t\tshow: false,\n\t\t\t\t\t\t\t\tmessage: event.detail.message,\n\t\t\t\t\t\t\t\tdescription: event.detail.description,\n\t\t\t\t\t\t\t\ttype: event.detail.type,\n\t\t\t\t\t\t\t\thtml: event.detail.html\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\" @mouseenter=\"toastsHovered=true;\" @mouseleave=\"toastsHovered=false\" x-init=\"\n\t\t\t\t\t\t\tif(layout == 'expanded'){\n\t\t\t\t\t\t\t\texpanded = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstackToasts();\n\t\t\t\t\t\t\t$watch('toastsHovered', function(value){\n\t\t\t\t\t\t\t\tif(layout == 'default'){\n\t\t\t\t\t\t\t\t\tif(position.includes('bottom')){\n\t\t\t\t\t\t\t\t\t\tresetBottom();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tresetTop();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif(value){\n\t\t\t\t\t\t\t\t\t\t// calculate the new positions\n\t\t\t\t\t\t\t\t\t\texpanded = true;\n\t\t\t\t\t\t\t\t\t\tif(layout == 'default'){\n\t\t\t\t\t\t\t\t\t\t\tstackToasts();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tif(layout == 'default'){\n\t\t\t\t\t\t\t\t\t\t\texpanded = false;\n\t\t\t\t\t\t\t\t\t\t\t//setTimeout(function(){\n\t\t\t\t\t\t\t\t\t\t\tstackToasts();\n\t\t\t\t\t\t\t\t\t\t//}, 10);\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\t\t\t\tstackToasts();\n\t\t\t\t\t\t\t\t\t\t\t}, 10)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\" class=\"fixed block w-full group z-[99] sm:max-w-xs\" :class=\"{ 'right-0 top-0 sm:mt-6 sm:mr-6': position=='top-right', 'left-0 top-0 sm:mt-6 sm:ml-6': position=='top-left', 'left-1/2 -translate-x-1/2 top-0 sm:mt-6': position=='top-center', 'right-0 bottom-0 sm:mr-6 sm:mb-6': position=='bottom-right', 'left-0 bottom-0 sm:ml-6 sm:mb-6': position=='bottom-left', 'left-1/2 -translate-x-1/2 bottom-0 sm:mb-6': position=='bottom-center' }\" x-cloak><template x-for=\"(toast, index) in toasts\" :key=\"toast.id\"><li :id=\"toast.id\" x-data=\"{\n\t\t\t\t\t\t\t\t\ttoastHovered: false\n\t\t\t\t\t\t\t\t}\" x-init=\"\n\t\t\t\t\t\t\t\t\tif(position.includes('bottom')){\n\t\t\t\t\t\t\t\t\t\t$el.firstElementChild.classList.add('toast-bottom');\n\t\t\t\t\t\t\t\t\t\t$el.firstElementChild.classList.add('opacity-0', 'translate-y-full');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t$el.firstElementChild.classList.add('opacity-0', '-translate-y-full');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsetTimeout(function(){\n\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\t\t\tif(position.includes('bottom')){\n\t\t\t\t\t\t\t\t\t\t\t\t$el.firstElementChild.classList.remove('opacity-0', 'translate-y-full');\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t$el.firstElementChild.classList.remove('opacity-0', '-translate-y-full');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t$el.firstElementChild.classList.add('opacity-100', 'translate-y-0');\n\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\t\t\t\tstackToasts();\n\t\t\t\t\t\t\t\t\t\t\t}, 10);\n\t\t\t\t\t\t\t\t\t\t}, 5);\n\t\t\t\t\t\t\t\t\t}, 50);\n\n\t\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\t\t\t$el.firstElementChild.classList.remove('opacity-100');\n\t\t\t\t\t\t\t\t\t\t\t$el.firstElementChild.classList.add('opacity-0');\n\t\t\t\t\t\t\t\t\t\t\tif(toasts.length == 1){\n\t\t\t\t\t\t\t\t\t\t\t\t$el.firstElementChild.classList.remove('translate-y-0');\n\t\t\t\t\t\t\t\t\t\t\t\t$el.firstElementChild.classList.add('-translate-y-full');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\t\t\t\tdeleteToastWithId(toast.id)\n\t\t\t\t\t\t\t\t\t\t\t}, 300);\n\t\t\t\t\t\t\t\t\t\t}, 5);\n\t\t\t\t\t\t\t\t\t}, 4000);\n\t\t\t\t\t\t\t\t\" @mouseover=\"toastHovered=true\" @mouseout=\"toastHovered=false\" class=\"absolute w-full duration-300 ease-out select-none sm:max-w-xs\" :class=\"{ 'toast-no-description': !toast.description }\"><span class=\"relative flex flex-col items-start shadow-[0_5px_15px_-3px_rgb(0_0_0_/_0.08)] w-full transition-all duration-300 ease-out bg-white/4 border border-white/8 backdrop-blur-md rounded-xl p-6 sm:max-w-xs group\" :class=\"{ 'p-4' : !toast.html, 'p-0' : toast.html }\"><template x-if=\"!toast.html\"><div class=\"relative\"><div class=\"flex items-center\" :class=\"{ 'text-green-500' : toast.type=='success', 'text-blue-500' : toast.type=='info', 'text-orange-400' : toast.type=='warning', 'text-red-500' : toast.type=='danger', 'text-gray-800' : toast.type=='default' }\"><svg x-show=\"toast.type=='success'\" class=\"w-[18px] h-[18px] mr-1.5 -ml-1\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM16.7744 9.63269C17.1238 9.20501 17.0604 8.57503 16.6327 8.22559C16.2051 7.87615 15.5751 7.93957 15.2256 8.36725L10.6321 13.9892L8.65936 12.2524C8.24484 11.8874 7.61295 11.9276 7.248 12.3421C6.88304 12.7566 6.92322 13.3885 7.33774 13.7535L9.31046 15.4903C10.1612 16.2393 11.4637 16.1324 12.1808 15.2547L16.7744 9.63269Z\" fill=\"currentColor\"></path></svg> <svg x-show=\"toast.type=='info'\" class=\"w-[18px] h-[18px] mr-1.5 -ml-1\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM12 9C12.5523 9 13 8.55228 13 8C13 7.44772 12.5523 7 12 7C11.4477 7 11 7.44772 11 8C11 8.55228 11.4477 9 12 9ZM13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12V16C11 16.5523 11.4477 17 12 17C12.5523 17 13 16.5523 13 16V12Z\" fill=\"currentColor\"></path></svg> <svg x-show=\"toast.type=='warning'\" class=\"w-[18px] h-[18px] mr-1.5 -ml-1\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.44829 4.46472C10.5836 2.51208 13.4105 2.51168 14.5464 4.46401L21.5988 16.5855C22.7423 18.5509 21.3145 21 19.05 21L4.94967 21C2.68547 21 1.25762 18.5516 2.4004 16.5862L9.44829 4.46472ZM11.9995 8C12.5518 8 12.9995 8.44772 12.9995 9V13C12.9995 13.5523 12.5518 14 11.9995 14C11.4473 14 10.9995 13.5523 10.9995 13V9C10.9995 8.44772 11.4473 8 11.9995 8ZM12.0009 15.99C11.4486 15.9892 11.0003 16.4363 10.9995 16.9886L10.9995 16.9986C10.9987 17.5509 11.4458 17.9992 11.9981 18C12.5504 18.0008 12.9987 17.5537 12.9995 17.0014L12.9995 16.9914C13.0003 16.4391 12.5532 15.9908 12.0009 15.99Z\" fill=\"currentColor\"></path></svg> <svg x-show=\"toast.type=='danger'\" class=\"w-[18px] h-[18px] mr-1.5 -ml-1\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM11.9996 7C12.5519 7 12.9996 7.44772 12.9996 8V12C12.9996 12.5523 12.5519 13 11.9996 13C11.4474 13 10.9996 12.5523 10.9996 12V8C10.9996 7.44772 11.4474 7 11.9996 7ZM12.001 14.99C11.4488 14.9892 11.0004 15.4363 10.9997 15.9886L10.9996 15.9986C10.9989 16.5509 11.446 16.9992 11.9982 17C12.5505 17.0008 12.9989 16.5537 12.9996 16.0014L12.9996 15.9914C13.0004 15.4391 12.5533 14.9908 12.001 14.99Z\" fill=\"currentColor\"></path></svg><p class=\"text-[13px] font-medium leading-none capitalize\" x-text=\"toast.message\"></p></div><p x-show=\"toast.description\" :class=\"{ 'pl-5' : toast.type!='default' }\" class=\"mt-1.5 text-xs leading-none opacity-70\" x-text=\"toast.description\"></p></div></template><template x-if=\"toast.html\"><div x-html=\"toast.html\"></div></template><span @click=\"burnToast(toast.id)\" class=\"absolute right-0 p-1.5 mr-2.5 text-gray-400 duration-100 ease-in-out rounded-full opacity-0 cursor-pointer hover:bg-gray-50 hover:text-gray-500\" :class=\"{ 'top-1/2 -translate-y-1/2' : !toast.description && !toast.html, 'top-0 mt-2.5' : (toast.description || toast.html), 'opacity-100' : toastHovered, 'opacity-0' : !toastHovered }\"><svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\"></path></svg></span></span></li></template></ul></template><footer class=\"text-center text-slate-400 text-sm py-6\">&copy; ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var3 string
		templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(time.Now().Year())
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/base.templ`, Line: 469, Col: 31}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, " FairSplit · Creato con ❤️</footer><script>\n\t\t\t\t\tdocument.addEventListener(\"alpine:init\", () => {\n\t\t\t\t\t\tdocument.body.addEventListener(\"showToast\", (evt) => {\n\t\t\t\t\t\t\tlet options = {\n\t\t\t\t\t\t\t\ttype: evt.detail.level,\n\t\t\t\t\t\t\t\tmessage: evt.detail.title,\n\t\t\t\t\t\t\t\tdescription: evt.detail.message,\n\t\t\t\t\t\t\t\tposition : \"top-center\",\n\t\t\t\t\t\t\t\thtml: \"\",\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar res = window.dispatchEvent(new CustomEvent('toast-show', { detail : options}));\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t</script></div></body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func Dashboard(sessions []db.Session) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var4 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var4 == nil {
			templ_7745c5c3_Var4 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var5 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "<div x-data=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var6 string
			templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("{ openNewSessionModal: false, numSessions: %d }", len(sessions)))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/base.templ`, Line: 493, Col: 93}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "\" class=\"space-y-6 fade-in\"><!-- Card utente --><div class=\"bg-white/4 border border-white/8 backdrop-blur-md rounded-xl p-6 shadow-lg\"><h1 class=\"text-2xl font-semibold\">Ciao <b class=\"capitalize\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var7 string
			templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(GetUser(ctx).Username)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/base.templ`, Line: 496, Col: 89}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "</b>👋</h1><p class=\"text-slate-300 mt-1\">Ecco le tue sessioni attive e concluse.</p></div><!-- Lista sessioni --><div class=\"bg-white/4 border border-white/8 backdrop-blur-md rounded-xl p-6 shadow-lg\"><div class=\"flex items-center justify-between mb-4\"><h2 class=\"text-lg font-semibold\">Sessioni</h2><button class=\"px-4 py-2 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white font-medium transition\" @click=\"openNewSessionModal = true\">Nuova sessione</button></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = Sessions(sessions).Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "</div><!-- Modal --><div x-show=\"openNewSessionModal\" x-transition.opacity class=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-40\" @click=\"openNewSessionModal = false\"></div><div x-show=\"openNewSessionModal\" x-transition class=\"fixed inset-0 flex items-center justify-center z-50 p-4\"><div class=\"bg-white/10 backdrop-blur-md border border-white/10 rounded-xl shadow-xl w-full max-w-md p-6\" @click.stop><h3 class=\"text-xl font-semibold mb-4\">Crea una nuova sessione</h3><form hx-post=\"/sessions/new\" hx-target=\"#sessions-list\" hx-swap=\"afterbegin\" @htmx:after-on-load=\"openNewSessionModal = false; numSessions++\" class=\"space-y-4\"><div><label class=\"block text-sm text-slate-300 mb-1\">Nome sessione</label> <input type=\"text\" name=\"name\" required class=\"w-full rounded-lg bg-white/5 border border-white/10 px-3 py-2 text-white placeholder-slate-400 focus:(outline-none ring-2 ring-emerald-500)\" placeholder=\"Es. Vacanza a Roma\"></div><div class=\"flex justify-end gap-2\"><button type=\"button\" class=\"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20 text-slate-200\" @click=\"openNewSessionModal = false\">Annulla</button> <button type=\"submit\" class=\"px-4 py-2 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white font-medium\">Crea</button></div></form></div></div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = Layout("Dashboard").Render(templ.WithChildren(ctx, templ_7745c5c3_Var5), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
